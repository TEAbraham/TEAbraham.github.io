<!DOCTYPE html>
<html>
  <head>
    <title>Visualization of Historical Data</title>
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/d3Style.css">
    <script src="https://d3js.org/d3.v5.min.js"></script>	
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intro.js/6.0.0/introjs.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intro.js/6.0.0/intro.min.js"></script>
  </head>
  <body>
    <header>
      <div class="content">
        <h1>Visualization of Chicago <span class="color">Air </span>Pollution</h1>
      </div>
    </header>
    <section id="vis">
      <div class="content">
        <div id="loading">Loading...</div>
        <div id="stations">
          <div id="map-wrapper">
            <svg class="map"></svg>
          </div>
          <div id="station">
            <h2 id="station-name"></h2>
            <div id="radial-wrapper">
              <svg class="radial"></svg>
            </div>
            <div id="tiles-wrapper">
              <svg class="tiles"></svg>
            </div>
          </div>
        </div>
        <div id="pollutant-selector"></div>
      </div>
    </section>
    <section id="plot">
        <div>
            <div style="text-align: center">
                <iframe id="iframe" src="d3.html" height="600" width="900" frameBorder="0"></iframe>
            </div>
        </div>
    </section>
    <script type="text/javascript">
      introJs()
        .setOptions({
          steps: [{
            title: 'Welcome',
            intro: 'This interactive beta seamlessly integrates seemingly incompatible versions of the <b>D3</b> library'
          },
          {
            element: document.querySelector('#vis'),
            intro: 'This is the section using <b>D3</b>v3 and v4'
          },
          {
            element: document.querySelector('#plot'),
            intro: 'This is the section using <b>D3</b>v5'
          },
          {
            element: document.querySelector('#stations'),
            intro: 'Historic pollutant data is collected by the EPA.gov API from Chicago monitoring stations'
          },
          {
            element: document.querySelector('#map-wrapper'),
            intro: 'All stations are clickable and sized based on how much they contribute to the selected pollutant'
          },
          {
            element: document.querySelector('#station'),
            intro: 'Cumulative measurements for the selected years are averaged together based on pollutant and day of the year'
          },
          {
            element: document.querySelector('#iframe'),
            intro: 'All individual records are represented here and annotated with an appropriate tooltip'
          },
          {
            element: document.querySelector('#iframe'),
            intro: 'Click the y-axis to update the records for any individual pollutant or zoom in with your mouse wheel'
          },
          {
            element: document.querySelector('#pollutant-selector'),
            intro: 'Click on the pollutant selector to update the stations and records simultaneously'
          }]
        })
        .start();
    </script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="lib/colorbrewer.js"></script>
    <script src="air-vis.js"></script>
  </body>
  </html>